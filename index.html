<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viajapp</title>
    <script>
        // Función que verifica si la app está instalada
        function checkAppInstalled() {
            var schemeUrl = "viajapp://"; // Intentar abrir la app con el esquema de URL personalizado
            var playStoreUrl = "https://play.google.com/store/apps/details?id=com.viajapp.app"; // Enlace de la Play Store

            // Obtener la ruta de la URL actual
            var currentPath = window.location.pathname;

            // Asegurarse de que estamos tratando con las rutas correctas
            if (currentPath.includes("profile") || currentPath.includes("search") || currentPath.includes("viaje")) {
                var startTime = new Date().getTime();
                var timeout = setTimeout(function() {
                    // Si la app no se abre, redirige a la Play Store
                    if (new Date().getTime() - startTime < 2000) {
                        window.location = playStoreUrl;
                    }
                }, 1500); // Tiempo de espera de 1.5 segundos

                // Intentar abrir la app en el esquema especificado
                window.location = schemeUrl;

                // Detener el timeout si la app se abre correctamente
                clearTimeout(timeout);
            }
        }

        // Ejecutar la función cuando la página cargue
        window.onload = checkAppInstalled;
    </script>
</head>
<body>
    <h1>Redirigiendo a Viajapp...</h1>
    <p>Si no eres redirigido, <a href="https://play.google.com/store/apps/details?id=com.viajapp.app" target="_blank">hacé clic acá</a> para descargar la app.</p>
</body>
</html>
